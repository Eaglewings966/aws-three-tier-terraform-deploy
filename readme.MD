ğŸ¦ NovaTrust Bank Microservice Platform
Production-Grade AWS EKS Deployment with Terraform & GitOps








ğŸŸ¡ Status: Previously Live â†’ ğŸ”´ Destroyed (Cost Management)
ğŸŒ Region: us-east-1
ğŸŒ Domain: emmaubani.online

ğŸ“œ Legal Disclaimer

Fictional Bank Notice
NovaTrust Bank is a fictional institution created strictly for educational and portfolio demonstration purposes.

This project does not represent a real bank, does not offer financial services, and is not affiliated with OPAY or any organization.

Any resemblance to real institutions is purely coincidental.

ğŸ“– Project Overview

This project demonstrates how to design, deploy, and operate a production-grade cloud-native microservices platform on AWS using Infrastructure as Code, GitOps, and Kubernetes best practices.

Core Capabilities

AWS infrastructure provisioned with Terraform

Kubernetes workloads running on Amazon EKS

GitHub Actions for CI/CD automation

ArgoCD for GitOps continuous delivery

Ingress NGINX + AWS NLB for traffic management

cert-manager + Letâ€™s Encrypt for HTTPS/TLS

Prometheus & Grafana for observability

React frontend and Node.js backend API

Route53 DNS management

ğŸ§© Naming Conventions
Component	Value
EKS Cluster	novatrust-eks-prod
Namespace	novatrust
Backend	novatrust-api
Frontend	novatrust-web
ArgoCD	argocd.emmaubani.online
Grafana	grafana.emmaubani.online
API	api.emmaubani.online
ğŸ—ï¸ Architecture Overview

Traffic Flow

Users access the platform over HTTPS.

Route53 resolves DNS to an External NLB created by Ingress NGINX.

Traffic is routed to:

React frontend

Backend API

Backend communicates with RDS MySQL (Multi-AZ).

Internal NLB enables private service communication.

ArgoCD synchronizes deployments from GitHub.

Prometheus and Grafana monitor the cluster.

ğŸ“¸ Architecture diagram available in /docs or screenshots

ğŸ“ Repository Structure
.
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ cicd.yml
â”œâ”€â”€ terraform/
â”‚   â”œâ”€â”€ vpc/
â”‚   â”œâ”€â”€ eks/
â”‚   â”œâ”€â”€ rds/
â”‚   â””â”€â”€ route53/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/
â”‚   â””â”€â”€ frontend/
â”œâ”€â”€ k8s/
â”‚   â”œâ”€â”€ namespace.yaml
â”‚   â”œâ”€â”€ backend.yaml
â”‚   â”œâ”€â”€ frontend.yaml
â”‚   â”œâ”€â”€ ingress-option1-subdomains.yaml
â”‚   â”œâ”€â”€ internal-nlb.yaml
â”‚   â”œâ”€â”€ argocd-ingress.yaml
â”‚   â””â”€â”€ grafana-ingress.yaml
â”œâ”€â”€ argocd/
â”‚   â””â”€â”€ novatrust-app.yaml
â””â”€â”€ README.md

ğŸ” Phase 0 â€” Repository Cleanup

Forked original repository

Removed old branding and secrets

Standardized naming

Added secure .gitignore

git grep -n "AKIA\|SECRET\|example.com" || true

ğŸ”‘ Phase 1 â€” GitHub Secrets & Variables
Secrets

AWS_ACCESS_KEY_ID

AWS_SECRET_ACCESS_KEY

AWS_REGION

Variables

EKS_CLUSTER_NAME = novatrust-eks-prod

âš™ï¸ Phase 2 â€” CI/CD with GitHub Actions

CI pipeline performs:

Terraform init

Format check

Validation

Plan

Apply

terraform init
terraform fmt -recursive
terraform validate
terraform apply -auto-approve

â˜ï¸ Phase 3 â€” Infrastructure Provisioning

Provisioned using Terraform:

VPC with public/private subnets

EKS cluster

RDS MySQL (Multi-AZ)

IAM roles and policies

Route53 hosted zone

â˜¸ï¸ Phase 4 â€” Kubernetes Setup
aws eks update-kubeconfig \
  --name novatrust-eks-prod \
  --region us-east-1

kubectl get nodes

ğŸŒ Phase 5 â€” Ingress NGINX (External NLB)
helm install ingress-nginx ingress-nginx/ingress-nginx \
  --namespace ingress-nginx --create-namespace \
  --set controller.service.annotations."service\.beta\.kubernetes\.io/aws-load-balancer-type"="nlb"

ğŸ” Phase 6 â€” TLS with cert-manager

cert-manager installed

Letâ€™s Encrypt ClusterIssuer configured

Automatic certificate renewal enabled

ğŸ”„ Phase 7 â€” GitOps with ArgoCD

ArgoCD installed in argocd namespace

Git repository used as single source of truth

Automated sync enabled

kubectl get applications -n argocd

ğŸ“Š Phase 8 â€” Monitoring

Prometheus for metrics collection

Grafana for visualization

Dashboards exposed securely via HTTPS

ğŸ§© Phase 9 â€” Application Services
Backend API

Node.js + Express

Health endpoint: /health

Dockerized

Frontend

React (Vite)

Fetches backend health status

Served via NGINX

ğŸ³ Phase 10 â€” Docker Images
docker build -t <user>/novatrust-api:1.0.0 .
docker push <user>/novatrust-api:1.0.0

docker build -t <user>/novatrust-web:1.0.0 .
docker push <user>/novatrust-web:1.0.0

â˜¸ï¸ Phase 11 â€” Kubernetes Manifests

Deployed:

Deployments

Services

Ingress (TLS)

Internal NLB

kubectl apply -f k8s/

ğŸŒ Phase 12 â€” DNS (Route53)

Configured records:

emmaubani.online

api.emmaubani.online

argocd.emmaubani.online

grafana.emmaubani.online

âœ… Phase 13 â€” Validation
curl https://emmaubani.online
curl https://api.emmaubani.online/health

ğŸ§¹ Cleanup (Cost Control)
terraform destroy -auto-approve

ğŸ“š What I Learned

Building production-ready AWS EKS infrastructure

Writing clean Terraform modules

GitOps deployment workflows

Kubernetes networking & TLS

Monitoring cloud-native systems

Cost optimization strategies

Presenting real-world cloud projects professionally

ğŸ‘¨ğŸ½â€ğŸ’» Author

Ubani Obiajulum Emmanuel
Cloud & DevOps Engineer
ğŸ”— GitHub: https://github.com/Eaglewings966/aws-three-tier-terraform-deploy.git

â­ Final Note

This repository showcases real-world DevOps, Cloud, and Kubernetes engineering practices suitable for mid-level to senior cloud roles.